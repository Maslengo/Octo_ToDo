<Ui>
	<Frame name="MyAddonEditFrameTemplate" movable="true" resizable="true" dontSavePosition="true" enableMouse="true" inherits="DialogBoxFrame" hidden="true" virtual="true">
		<Size x="740" y="500"/>
		<Frames>
			<EventFrame parentKey="scrollBar" inherits="MinimalScrollBar">
				<Anchors>
					<Anchor point="TOPRIGHT" x="14" y="0"/>
					<Anchor point="BOTTOMRIGHT" x="14" y="0"/>
				</Anchors>
			</EventFrame>
			<Frame parentKey="editFrame" inherits="BackdropTemplate, ScrollingEditBoxTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" x="20" y="-20"/>
					<Anchor point="BOTTOMRIGHT" x="-20" y="60"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture setAllPoints="true">
							<Color r=".08" g=".08" b=".5" a=".1"/>
						</Texture>
					</Layer>
				</Layers>
			</Frame>
			<Button parentKey="resize">
				<Size x="16" y="16"/>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
				</Anchors>
				<NormalTexture file="Interface\ChatFrame\UI-ChatIM-SizeGrabber-Up"/>
				<HighlightTexture file="Interface\ChatFrame\UI-ChatIM-SizeGrabber-Highlight"/>
				<PushedTexture file="Interface\ChatFrame\UI-ChatIM-SizeGrabber-Down"/>
				<Scripts>
					<OnDragStart>
						local parent = self:GetParent()
						parent:StartSizing("BOTTOMRIGHT", true)
					</OnDragStart>
					<OnDragStop>
						self:GetParent():StopMovingOrSizing()
					</OnDragStop>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>

					self.resize:RegisterForDrag("LeftButton")
					self:SetBackdrop({
						bgFile = "Interface\\Addons\\OctoToDo\\Media\\border\\01 Octo.tga",
						edgeFile = "Interface\\Addons\\OctoToDo\\Media\\border\\01 Octo.tga",
						edgeSize = 1,
						insets = {left = 1, right = 1, top = 1, bottom = 1},
					})
					self:SetBackdropColor(.08, .08, .08, 0.8)
					self:SetBackdropBorderColor(0, 0, 0, 1)

					editFrame.editFrame:SetBackdrop({
							bgFile = "Interface\\Addons\\OctoToDo\\Media\\border\\01 Octo.tga",
							edgeFile = "Interface\\Addons\\OctoToDo\\Media\\border\\01 Octo.tga",
							edgeSize = 1,
							insets = {left = 1, right = 1, top = 1, bottom = 1},
						})
					editFrame.editFrame:SetBackdropColor(.08, .08, .08, 0.8)
					editFrame.editFrame:SetBackdropBorderColor(0, 0, 0, 1)

					local scrollBox = self.editFrame:GetScrollBox()
					scrollBox:SetAllPoints(self.editFrame)
					ScrollUtil.RegisterScrollBoxWithScrollBar(scrollBox, self.scrollBar)

					local editBox = self.editFrame:GetEditBox()
					editBox:HookScript("OnEnterPressed", function(self) self:Insert("\n") end)
					editBox:HookScript("OnEscapePressed", function(self) self:ClearFocus() end)

				</OnLoad>
			<OnMouseDown>
					if (button == "LeftButton") then
						self:StartMoving()
					end
					if (button == "TOGGLEGAMEMENU") then
						self:Hide()
						self:SetPropagateKeyboardInput(false)
					else
						self:SetPropagateKeyboardInput(true)
					end

				</OnMouseDown>
			<OnMouseUp>
					self:StopMovingOrSizing()
				</OnMouseUp>
		</Scripts>
	</Frame>
</Ui>